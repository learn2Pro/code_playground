# 816. Ambiguous Coordinates
import itertools
from typing import List


class _816_Solution:
    def ambiguousCoordinates(self, S: str) -> List[str]:
        ans = []

        def dottable(input: str):
            N = len(input)
            for i in range(1, N + 1):
                left, right = input[:i], input[i:]
                if (left == '0' or not left.startswith('0')) and (not right.endswith('0')):
                    yield input[:i] + ('.' if i != N else '') + input[i:]

        S = S[1:-1]
        N = len(S)
        for i in range(1, N):
            for x, y in itertools.product(dottable(S[:i]), dottable(S[i:])):
                ans.append("(" + x + ", " + y + ")")
        return ans


'''
"(123)"
"(00011)"
"(0123)"
"(100)"
"(00)"
"(0)"
"(000001)"
"(100000000010001)"
"(0010)"
'''
if __name__ == '__main__':
    tar = _816_Solution()
    assert tar.ambiguousCoordinates("(0010)") == ["(0.01, 0)"]
    assert tar.ambiguousCoordinates("(10010001)") == ["(1, 0.010001)", "(10, 0.10001)", "(100, 1.0001)",
                                                      "(100, 10.001)", "(100, 100.01)", "(100, 1000.1)", "(100, 10001)",
                                                      "(1.001, 0.001)", "(10.01, 0.001)", "(100.1, 0.001)",
                                                      "(1001, 0.001)", "(1.0010, 0.01)", "(10.010, 0.01)",
                                                      "(100.10, 0.01)", "(10010, 0.01)", "(1.00100, 0.1)",
                                                      "(10.0100, 0.1)", "(100.100, 0.1)", "(100100, 0.1)",
                                                      "(1.001000, 1)", "(10.01000, 1)", "(100.1000, 1)", "(1001000, 1)"]
    assert tar.ambiguousCoordinates("(100000000010001)") == ["(1, 0.0000000010001)", "(10, 0.000000010001)",
                                                             "(100, 0.00000010001)", "(1000, 0.0000010001)",
                                                             "(10000, 0.000010001)", "(100000, 0.00010001)",
                                                             "(1000000, 0.0010001)", "(10000000, 0.010001)",
                                                             "(100000000, 0.10001)", "(1000000000, 1.0001)",
                                                             "(1000000000, 10.001)", "(1000000000, 100.01)",
                                                             "(1000000000, 1000.1)", "(1000000000, 10001)",
                                                             "(1.0000000001, 0.001)", "(10.000000001, 0.001)",
                                                             "(100.00000001, 0.001)", "(1000.0000001, 0.001)",
                                                             "(10000.000001, 0.001)", "(100000.00001, 0.001)",
                                                             "(1000000.0001, 0.001)", "(10000000.001, 0.001)",
                                                             "(100000000.01, 0.001)", "(1000000000.1, 0.001)",
                                                             "(10000000001, 0.001)", "(1.00000000010, 0.01)",
                                                             "(10.0000000010, 0.01)", "(100.000000010, 0.01)",
                                                             "(1000.00000010, 0.01)", "(10000.0000010, 0.01)",
                                                             "(100000.000010, 0.01)", "(1000000.00010, 0.01)",
                                                             "(10000000.0010, 0.01)", "(100000000.010, 0.01)",
                                                             "(1000000000.10, 0.01)", "(100000000010, 0.01)",
                                                             "(1.000000000100, 0.1)", "(10.00000000100, 0.1)",
                                                             "(100.0000000100, 0.1)", "(1000.000000100, 0.1)",
                                                             "(10000.00000100, 0.1)", "(100000.0000100, 0.1)",
                                                             "(1000000.000100, 0.1)", "(10000000.00100, 0.1)",
                                                             "(100000000.0100, 0.1)", "(1000000000.100, 0.1)",
                                                             "(1000000000100, 0.1)", "(1.0000000001000, 1)",
                                                             "(10.000000001000, 1)", "(100.00000001000, 1)",
                                                             "(1000.0000001000, 1)", "(10000.000001000, 1)",
                                                             "(100000.00001000, 1)", "(1000000.0001000, 1)",
                                                             "(10000000.001000, 1)", "(100000000.01000, 1)",
                                                             "(1000000000.1000, 1)", "(10000000001000, 1)"]
    assert tar.ambiguousCoordinates("(123)") == ['(1, 2.3)', '(1, 23)', '(1.2, 3)', '(12, 3)']
    assert tar.ambiguousCoordinates("(00011)") == ['(0, 0.011)', '(0.001, 1)']
    assert tar.ambiguousCoordinates("(0123)") == ['(0, 1.23)', '(0, 12.3)', '(0, 123)', '(0.1, 2.3)', '(0.1, 23)',
                                                  '(0.12, 3)']
    assert tar.ambiguousCoordinates("(100)") == ['(10, 0)']
